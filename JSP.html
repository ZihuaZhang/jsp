<html>
<head>
  <title>Evernote Export</title>
  <basefont face="华文楷体" size="2" />
  <meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
  <meta name="exporter-version" content="YXBJ Windows/602318 (zh-CN, DDL); Windows/10.0.0 (Win64); EDAMVersion=V2;"/>
  <style>
    body, td {
      font-family: 华文楷体;
      font-size: 14pt;
    }
  </style>
</head>
<body>
<a name="676"/>

<div>
<span><div><div><span style="font-size: 24pt;"><span style="font-size: 24pt;"><span style="font-size: 24pt; color: rgb(65, 173, 28); font-family: 方正硬笔楷书简体; font-weight: bold;">JSP简介</span></span></span></div><div><span style="font-size: 14pt;"><span style="font-size: 14pt;"><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">1、基于servlet技术以及整个Java体系的web开发技术</span></span></span></div><div><span style="font-size: 14pt;"><span style="font-size: 14pt;"><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">动态生成HTML文档的web页面模板，允许html和Java代码在同一个页面中。</span></span></span></div><div><span style="font-size: 14pt;"><span style="font-size: 14pt;"><br/></span></span></div><div><span style="font-size: 14pt;"><span style="font-size: 14pt;"><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">2、HTML文件+Java中断+jsp标签 = JSP</span></span></span></div><div><span style="font-size: 14pt;"><span style="font-size: 14pt;"><br/></span></span></div><div><span style="font-size: 14pt;"><span style="font-size: 14pt;"><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">3、jsp必须依附项目（站点）</span></span></span></div><div><span style="font-size: 14pt;"><span style="font-size: 14pt;"><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">一个动态站点包括WEB-INF目录，其中包含着web.xml文件</span></span></span></div><div><span style="font-size: 14pt;"><span style="font-size: 14pt;"><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">jsp和WEB-INF同级目录</span></span></span></div><div><span style="font-size: 14pt;"><span style="font-size: 14pt;background-color: rgb(255, 250, 165);-evernote-highlight:true;"><br/></span></span></div><div><span style="font-size: 14pt; background-color: rgb(255, 250, 165); font-family: 方正硬笔楷书简体;-evernote-highlight:true;">4、部署JSP站点的三种方法</span></div><ul><li><div><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">编译之后的站点直接放到webapps目录下</span></div></li><li><div><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">在server.xml的host结点下创建context</span></div></li><ul><li><div><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">形式为：&lt;Context  path=&quot; /myapp &quot;  docBase=&quot; jsp应用的物理路径 &quot;  workDir=&quot; jsp应用的工作目录&quot;  reloadable=&quot; true &quot; /&gt;</span></div></li></ul><li><div><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">在conf / Catalina / localhost下创建一个xml文件（文件内容与server.xml中context结点内容一致）</span></div></li><ul><li><div><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">当xml文件名与内部虚拟路径不一致时，以xml文件名为准</span></div></li><li><div><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">物理路径是编译之前的文件路径，同时物理路径要具体到webcontent</span></div></li></ul></ul><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 14pt; background-color: rgb(255, 250, 165); font-family: 方正硬笔楷书简体;-evernote-highlight:true;">5、jsp标签</span></div><div><span style="font-size: 14pt; font-family: 方正硬笔楷书简体;">HTML标签+Java代码+jsp标签</span></div><ol><li><div>伪指令标签&lt;%@  %&gt;</div></li><ol><li><div>page：指定整个页面的全局属性</div></li><li><div><span style="font-size: 14pt;">include：</span><span style="font-size: 14pt;">内嵌指定页面，将复杂页面拆分成简单的页面</span></div></li><li><div><span style="font-size: 14pt;">taglib：允许开发者自定义标签</span></div></li></ol><li><div>声明标签&lt;!%  %&gt;</div></li><li><div><span style="font-size: 14pt;">脚本标签&lt;%  %&gt;</span></div></li><li><div><span style="font-size: 14pt;">动作标签</span></div></li><ol><li><div><span style="font-size: 14pt;">在请求处理阶段向jsp容器发送指令</span></div></li><li><div><span style="font-size: 14pt;">&lt;jsp  include page=&quot; &quot;&gt;    &lt;jsp useBean &gt;  &lt;jsp forwrad &gt;</span></div></li></ol><li><div><span style="font-size: 14pt;">表达式标签</span></div></li><ol><li><div><span style="font-size: 14pt;">可用于访问可用的Java取值或其他表达式</span></div></li><li><div><span style="font-size: 14pt;">还可用于给动作指令动态传递参数</span><span style="font-size: 14pt;">&lt;jsp: include page=“&lt;%=name%&gt;”%&gt;</span></div></li></ol><li><div><span style="font-size: 14pt;">注释标签</span></div></li><ol><li><div><span style="font-size: 14pt;">只在jsp中显示    &lt;%--     --%&gt;</span></div></li><li><div><span style="font-size: 14pt;">在jsp脚本元素中的注释     /*  */    //</span></div></li><li><div><span style="font-size: 14pt;">JSP生成的HTML在客户端显示的注释     </span><span style="font-size: 14pt;">&lt;!--   --&gt;</span></div></li></ol></ol><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 24pt; color: rgb(65, 173, 28); font-family: 方正硬笔楷书简体; font-weight: bold;">JSP基础</span></div><div><span style="font-size: 14pt;">1、jsp工作原理</span></div><ul><li><div><span style="font-size: 14pt;">一个JSP文件第一次被请求时，JSP引擎将该jsp文件转换成一个Servlet</span></div></li><li><div><span style="font-size: 14pt;">JSP引擎使用javac将转换成的servlet的源文件编译成相应的class文件</span></div></li><li><div><span style="font-size: 14pt;">对每一个请求，jsp引擎都会开启一个新的线程来处理</span></div></li></ul><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 14pt;background-color: rgb(255, 250, 165);-evernote-highlight:true;">2、JSP生命周期</span></div><div><span style="font-size: 14pt;">    转译-编译-加载-实例化-初始化-服务-销毁</span></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 96px;"></col><col style="width: 602px;"></col></colgroup><tbody><tr><td style="background-color: rgb(251, 207, 214); border: 1px solid rgb(244, 122, 142); width: 96px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 12pt; font-weight: bold;">阶段</span></span></div></td><td style="background-color: rgb(205, 230, 249); border: 1px solid rgb(124, 190, 239); width: 602px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 12pt; font-weight: bold;">描述</span></span></div></td></tr><tr><td style="background-color: rgb(251, 207, 214); border: 1px solid rgb(244, 122, 142); width: 96px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 12pt;">转译</span></span></div></td><td style="background-color: rgb(205, 230, 249); border: 1px solid rgb(124, 190, 239); width: 602px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-size: 12pt;-en-paragraph:true;">将</span><span style="font-size: 12pt;-en-paragraph:true;">JSP</span><span style="font-size: 12pt;-en-paragraph:true;">源文件转译成对应的</span><span style="font-size: 12pt;-en-paragraph:true;">Servlet</span><span style="font-size: 12pt;-en-paragraph:true;">源文件</span></font></div></td></tr><tr><td style="background-color: rgb(251, 207, 214); border: 1px solid rgb(244, 122, 142); width: 96px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 12pt;">编译</span></span></div></td><td style="background-color: rgb(205, 230, 249); border: 1px solid rgb(124, 190, 239); width: 602px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-size: 12pt;-en-paragraph:true;">编译</span><span style="font-size: 12pt;-en-paragraph:true;">Java</span><span style="font-size: 12pt;-en-paragraph:true;">源文件为类文件</span></font></div></td></tr><tr><td style="background-color: rgb(251, 207, 214); border: 1px solid rgb(244, 122, 142); width: 96px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 12pt;">加载</span></span></div></td><td style="background-color: rgb(205, 230, 249); border: 1px solid rgb(124, 190, 239); width: 602px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 12pt;">将类加载至内存</span></span></div></td></tr><tr><td style="background-color: rgb(251, 207, 214); border: 1px solid rgb(244, 122, 142); width: 96px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 12pt;">实例化</span></span></div></td><td style="background-color: rgb(205, 230, 249); border: 1px solid rgb(124, 190, 239); width: 602px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-size: 12pt;-en-paragraph:true;">创建一个</span><span style="font-size: 12pt;-en-paragraph:true;">Servlet</span><span style="font-size: 12pt;-en-paragraph:true;">类实例对象</span></font></div></td></tr><tr><td style="background-color: rgb(251, 207, 214); border: 1px solid rgb(244, 122, 142); width: 96px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 12pt;">初始化</span></span></div></td><td style="background-color: rgb(205, 230, 249); border: 1px solid rgb(124, 190, 239); width: 602px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-size: 12pt;-en-paragraph:true;">调用</span><span style="font-size: 12pt;-en-paragraph:true;">_jspInit()</span><span style="font-size: 12pt;-en-paragraph:true;">方法，最终调用</span><span style="font-size: 12pt;-en-paragraph:true;">Servlet</span><span style="font-size: 12pt;-en-paragraph:true;">类的</span><span style="font-size: 12pt;-en-paragraph:true;">init()</span><span style="font-size: 12pt;-en-paragraph:true;">方法初始化</span></font></div></td></tr><tr><td style="background-color: rgb(251, 207, 214); border: 1px solid rgb(244, 122, 142); width: 96px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 12pt;">服务</span></span></div></td><td style="background-color: rgb(205, 230, 249); border: 1px solid rgb(124, 190, 239); width: 602px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-size: 12pt;-en-paragraph:true;">调用</span><span style="font-size: 12pt;-en-paragraph:true;">_jspService()</span><span style="font-size: 12pt;-en-paragraph:true;">方法，最终调用</span><span style="font-size: 12pt;-en-paragraph:true;">Servlet</span><span style="font-size: 12pt;-en-paragraph:true;">类的</span><span style="font-size: 12pt;-en-paragraph:true;">service()</span><span style="font-size: 12pt;-en-paragraph:true;">方法，将请求和响应传递进对应的</span><span style="font-size: 12pt;-en-paragraph:true;">doXXX()</span><span style="font-size: 12pt;-en-paragraph:true;">方法</span></font></div></td></tr><tr><td style="background-color: rgb(251, 207, 214); border: 1px solid rgb(244, 122, 142); width: 96px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 12pt;">销毁</span></span></div></td><td style="background-color: rgb(205, 230, 249); border: 1px solid rgb(124, 190, 239); width: 602px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 12pt;"><span style="font-size: 12pt;-en-paragraph:true;">调用</span><span style="font-size: 12pt;-en-paragraph:true;">_jspDestroy()</span><span style="font-size: 12pt;-en-paragraph:true;">方法，最终调用</span><span style="font-size: 12pt;-en-paragraph:true;">destroy()</span><span style="font-size: 12pt;-en-paragraph:true;">方法，销毁</span><span style="font-size: 12pt;-en-paragraph:true;">Servlet</span></font></div></td></tr></tbody></table><div><br/></div><div><span style="font-size: 14pt;">3、JSP转译Servlet</span></div><div><div><br/></div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 342px;"></col></colgroup><tbody><tr><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 130px; padding: 8px;"><div>标签</div></td><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 342px; padding: 8px;"><div>转换后</div></td></tr><tr><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 130px; padding: 8px;"><div>声明标签</div></td><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 342px; padding: 8px;"><div><span style="font-size: 14pt;">转换为Servlet类的成员</span></div></td></tr><tr><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 130px; padding: 8px;"><div><span style="font-size: 14pt;">脚本标签</span></div></td><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 342px; padding: 8px;"><div><span style="font-size: 14pt;">转换为_jspService()中的代码</span></div></td></tr><tr><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 130px; padding: 8px;"><div><span style="font-size: 14pt;">HTML代码</span></div></td><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 342px; padding: 8px;"><div><span style="font-size: 18.6667px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: 方正硬笔楷书简体; font-variant-caps: normal; font-variant-ligatures: normal;">转换为_jspService()中out.write()中的代码</span></div></td></tr><tr><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 130px; padding: 8px;"><span style="font-size: 14pt;">表达式标签</span></td><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 342px; padding: 8px;"><div><span style="font-size: 18.6667px; letter-spacing: normal; orphans: 2; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; font-family: 方正硬笔楷书简体; font-variant-caps: normal; font-variant-ligatures: normal;">转换为_jspService()中out.write()中的代码</span></div></td></tr><tr><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 130px; padding: 8px;"><div>注释</div></td><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 342px; padding: 8px;"><div><span style="font-size: 14pt;">不转换</span></div></td></tr><tr><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 130px; padding: 8px;"><div>伪指令</div></td><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 342px; padding: 8px;"><div>&lt;%@ page import=&quot; &quot;%&gt;转成import ...</div></td></tr><tr><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 130px; padding: 8px;"><div>动作指令</div></td><td style="background-color: rgb(87, 191, 196); border: 1px solid rgb(59, 163, 168); width: 342px; padding: 8px;"><div><span style="font-size: 14pt;">被底层指定的类取代</span></div></td></tr></tbody></table><div><span style="font-size: 14pt;"><img src="JSP_files/Image.png" type="image/png" data-filename="Image.png" width="466"/></span></div></div><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 14pt;">4、page伪指令属性</span></div><ul><li><div><span style="font-size: 14pt;">import属性：用于描述JSP页面中使用类的全包名</span></div></li><li><div><span style="font-size: 14pt;">session属性：指定页面是不是需要一个http对话</span></div></li><li><div><span style="font-size: 14pt;">errorPage和isErrorPage属性</span></div></li><ul><li><div><span style="font-size: 14pt;">&lt;%@page  errorPage=&quot;error.jsp&quot;%&gt;</span></div></li><ul><li><div><span style="font-size: 14pt;">JSP产生一个不能捕获的溢出时跳转到一个错误页面</span></div></li></ul><li><div><span style="font-size: 14pt;">&lt;%@page  isErrorPage=&quot;true&quot; %&gt;</span></div></li><ul><li><div><span style="font-size: 14pt;">error.jsp页面需要添加此条语句才可生效</span></div></li></ul></ul><li><div><span style="font-size: 14pt;">language属性与extends属性</span></div></li><li><div><span style="font-size: 14pt;">buffer与autoFlush属性</span></div></li><ul><li><div><span style="font-size: 14pt;">&lt;%@page buffer=“32kb” %&gt;指定JSP的输出缓冲区的最小值</span></div></li><li><div><span style="font-size: 14pt;">&lt;%@page autoFlush =“false”%&gt;指定当缓冲区满时，是否自动将数据发送给客户端，默认为true</span></div></li></ul><li><div><span style="font-size: 14pt;">contentType和pageEncoding属性</span></div></li><ul><li><div><span style="font-size: 14pt;">&lt;%page contentType=&quot;text/html ; charset=utf-8&quot;&gt;</span></div></li><ul><li><div><span style="font-size: 14pt;">指定页面响应的MIME类型和字符编码</span></div></li></ul><li><div><span style="font-size: 14pt;">&lt;%page pageEncoding=&quot; utf-8 &quot; &gt;</span></div></li><ul><li><div><span style="font-size: 14pt;">指定JSP页面字符编码格式，默认值为ISO-8859-1</span></div></li></ul></ul></ul><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 24pt; color: rgb(65, 173, 28); font-family: 方正硬笔楷书简体; font-weight: bold;">JSP基础</span></div><ol><li><div><span style="font-size: 14pt;">JSP的<span style="background-color: rgb(255, 250, 165);font-size: 14pt;-evernote-highlight:true;">九个内置对象</span></span></div></li><ol><li><div><span style="font-size: 14pt;">out：用于向客户端输出数据。</span></div></li><ul><li><div><span style="font-size: 14pt;">作用域：page</span></div></li><li><div><span style="font-size: 14pt;">方法：write()    print()   println()</span></div></li></ul><li><div><span style="font-size: 14pt;">request：来自客户端的请求经Servlet容器处理之后，由request对象进行封装</span></div></li><ul><li><div><span style="font-size: 14pt;">作用域：request</span></div></li><li><div><span style="font-size: 14pt;">方法：getParameter(key)    getParameterValues(key)    setCharacterEncoding(&quot;utf-8&quot;)     setAttribute()   getAttribute()   getRequestDispatcher(&quot;  &quot;).forward(request, response)</span></div></li></ul><li><div><span style="font-size: 14pt;">response：封装了JSP的响应，之后被发送到客户端以响应客户的请求</span></div></li><ul><li><div><span style="font-size: 14pt;">作用域：page</span></div></li><li><div><span style="font-size: 14pt;">方法：sendRedirect()   setCharacterEncoding()</span></div></li></ul><li><div><span style="font-size: 14pt;">session</span></div></li><ul><li><div><span style="font-size: 14pt;">作用域：session</span></div></li><li><div><span style="font-size: 14pt;">方法：getId()    invalidate()   setMaxInactiveInterval()  isNew()</span></div></li></ul><li><div><span style="font-size: 14pt;">application</span></div></li><ul><li><div><span style="font-size: 14pt;">方法：set   get  remove   attribute</span></div></li></ul><li><div><span style="font-size: 14pt;">pageContext</span></div></li><ul><li><div><span style="font-size: 14pt;">pagecontext，是page的上下文，是javax.servlet.jsp.PageContext类型，它持有request，response，也持有page，通过pagecontext可以获取servletcontext、servletconfig等，可以看出他是一个桥梁可以获取上下文变量</span></div></li></ul><li><div><span style="font-size: 14pt;">config</span></div></li><li><div><span style="font-size: 14pt;">page</span></div></li><li><div><span style="font-size: 14pt;">exception</span></div></li></ol><li><div><span style="font-size: 14pt;">JSP的四个作用域</span></div></li><ol><li><div><span style="font-size: 14pt;">Application</span></div></li><ul><li><div><span style="font-size: 14pt;">可以通过application内置对象或ServletContext访问Application作用域对象</span></div></li></ul><li><div><span style="font-size: 14pt;">Session</span></div></li><ul><li><div><span style="font-size: 14pt;">可以被同一个客户端的请求访问</span></div></li><li><div><span style="font-size: 14pt;"><a href="https://www.cnblogs.com/heyboom/p/11090616.html" style="font-size: 14pt;">https://www.cnblogs.com/heyboom/p/11090616.html</a></span></div></li></ul><li><div><span style="font-size: 14pt;">Request</span></div></li><ul><li><div><span style="font-size: 14pt;">可以被forward()方法转向页面或者</span><span style="font-size: 14pt; background-color: rgb(255, 250, 165); color: rgb(166, 0, 196); font-weight: bold;-evernote-highlight:true;">include()包含页面</span><span style="font-size: 14pt;">访问</span></div></li></ul><li><div><span style="font-size: 14pt;">Page</span></div></li></ol></ol><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 24pt;"><span style="font-size: 24pt; color: rgb(65, 173, 28); font-weight: bold;">Web组件复用</span></span></div><div>1、构建可复用组件<span style="color: rgb(235, 0, 115);">可极大的提高软件生产效率、增强系统的可维护性</span></div><div>2、静态包含：在jsp源文件转换成对应servlet源文件时将当前jsp和其包含的所有其他文件合并为一个Servlet文件</div><ul><li><div>语法：&lt;%@include <span style="background-color: rgb(255, 250, 165);-evernote-highlight:true;"><span style="background-color: rgb(255, 250, 165); color: rgb(186, 0, 255); font-weight: bold;-evernote-highlight:true;">file</span>=</span>&quot; &quot; %&gt;（伪指令）</div></li><li><div>先放进去再编译</div></li><li><div>注意事项</div></li><ul><li><div>包含文件中尽量不要使用html，body等会影响原JSP页面的内容</div></li><li><div>该指令可以放到任意位置，且只有file一个属性，只能用相对路径</div></li><li><div>file属性中不能放入动态表达式，</div></li><li><div>file属性中不能通过url传递参数</div></li><li><div>被包含文件之间可以共享变量，尽量避免文件之间的联系</div></li></ul></ul><div>3、动态包含：<span style="font-size: unset; color: unset; font-family: unset;">指客户端请求时，将请求转发给当前JSP文件包含的其他对象</span></div><ul><li><div>语法：&lt;jsp:include page=&quot; &quot; flush=&quot;true&quot;&gt;（动作指令）</div></li><li><div>与原JSP文件独立编译、执行，彼此之间不能访问各自自定义的变量，只能访问request、session、application范围的对象</div></li><li><div>page属性中，可以是相对路径的表达式，page属性可以是动态页面文件也可以是静态页面文件</div></li></ul><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 144px;"></col><col style="width: 209px;"></col><col style="width: 264px;"></col></colgroup><tbody><tr><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 144px; padding: 8px;"><div><br/></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 209px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;; font-weight: bold;-en-paragraph:true;">include</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;; font-weight: bold;-en-paragraph:true;">伪指令</span></font></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 264px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;; font-weight: bold;-en-paragraph:true;">include</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;; font-weight: bold;-en-paragraph:true;">动作指令</span></font></div></td></tr><tr><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 144px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">规则</span></span></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 209px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">&lt;%@include     %&gt;</span></span></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 264px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">&lt;jsp:include  /&gt;</span></span></div></td></tr><tr><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 144px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">编译时间</span></span></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 209px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">较慢</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">(</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">资源必须被解析</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">)</span></font></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 264px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">较快</span></span></div></td></tr><tr><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 144px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">执行时间</span></span></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 209px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">较快</span></span></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 264px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">较慢</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">(</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">因为每次请求资源必须被解析</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">)</span></font></div></td></tr><tr><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 144px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">灵活性</span></span></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 209px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">较差</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">(</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">页面内容必须固定</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">)</span></font></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 264px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">较好</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">(</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">页面在运行时可动态选择</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">)</span></font></div></td></tr><tr><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 144px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">动作发生的时间</span></span></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 209px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">页面转换期间</span></span></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 264px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">请求期间</span></span></div></td></tr><tr><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 144px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">被包含的内容</span></span></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 209px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">文件的内容</span></span></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 264px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">页面的输出</span></span></div></td></tr><tr><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 144px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><font style="font-size: 16pt;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">产生</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">Servlet</span><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;-en-paragraph:true;">数目</span></font></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 209px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">1</span></span></div></td><td style="background-color: rgb(221, 209, 243); border: 1px solid rgb(168, 137, 224); width: 264px; padding: 8px;"><div style="margin-top: 1em; margin-bottom: 1em;"><span style="-en-paragraph:true;"><span style="font-size: 16pt; font-family: &quot;Franklin Gothic Book&quot;;">n</span></span></div></td></tr></tbody></table><div>4、动态包含之forward动作指令</div><ul><li><div>允许将客户请求转发到另一个资源文件，即每当遇到此动作指令就停止执行当前的JSP，转而执行被转发的指定资源</div></li><li><div>&lt;jsp : forward  page=&quot;  &quot;&gt;</div></li><li><div>forward动作指令在调用转发操作后不会继续处理指令后的任何代码，而include动作指令会继续处理</div></li></ul><div>5、动态指令的参数传递</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;jsp:include page=&quot;header.jsp&quot; flush=&quot;false&quot;&gt;</div><div>          &lt;jsp:param name=&quot;name&quot; value=&quot;slr&quot;/&gt;//可以传递一个或多个参数给动态页面</div><div>&lt;/jsp:include&gt;</div></div><div><br/></div><div>6、JavaBean满足的条件</div><ul><li><div>属性为私有，方法为公有</div></li><li><div>无参构造方法</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;jsp:useBean id=&quot;user&quot;  class=&quot;www.onest.zzh.User&quot;&gt;&lt;/jsp:useBean&gt;</div><div>&lt;jsp:setProperty property=&quot;userName&quot; name=&quot;user&quot;   param=&quot;name&quot;/&gt;</div><div>&lt;jsp:getProperty property=&quot;userName&quot; name=&quot;user&quot;/&gt;</div></div><div><span style="font-size: 14pt;"><br/></span></div><div><br/></div><div><span style="font-size: 24pt; color: rgb(65, 173, 28); font-weight: bold;">EL表达式</span></div><div><span style="font-size: unset; color: unset; font-family: unset;">EL存取变量数据${user }</span></div><div>默认查找顺序为：page -request  -session  -application</div><div>指定范围${pageScope.user}   ${requestScope.user}.......</div><div>如果想动态的取值  则需要使用[]</div><div>empty: 判断值是否为null或空的${ empty param.name}</div><div>EL隐含对象有11个，与JSP的9个隐含对象区分开与范围有关的 applicationScope: sessionScope: requestScope: pageScope: 与输入有关的 param: paramValues: 其他隐含对象 cookie: header: headerValues: initParam: pageContext</div><div><br/></div><div>自定义EL函数</div><div><span style="font-size: unset; color: unset; font-family: unset;">1、编写方法所在源文件 .java文件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>public class StrLen {</div><div>    <b><font color="#FF0000"> public static</font></b> int getLength(String str) {//必须使用public static修饰</div><div>          return str.length();</div><div>     }</div><div>}</div></div><div>2、编写标签库描述符 .tld文件</div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;taglib&gt;</div><div>     &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;</div><div>     &lt;jsp-version&gt;2.0&lt;/jsp-version&gt;</div><div>     &lt;function&gt;</div><div>          &lt;name&gt;upper&lt;/name&gt;</div><div>          &lt;function-class&gt;com.StrMethods&lt;/function-class&gt;</div><div>          &lt;function-signature&gt;java.lang.String  upper(java.lang.String)</div><div>          &lt;/function-signature&gt;</div><div>     &lt;/function&gt;</div><div>     &lt;function&gt;</div><div>          &lt;name&gt;length&lt;/name&gt;</div><div>          &lt;function-class&gt;net.onest.zzh.StrLen&lt;/function-class&gt;//对应的Java类</div><div>          &lt;function-signature&gt;java.lang.int  getLength(java.lang.String)//返回值+方法名（带包名）</div><div>          &lt;/function-signature&gt;</div><div>     &lt;/function&gt;</div><div>&lt;/taglib&gt;</div></div><div><span style="font-size: unset; color: unset; font-family: unset;">3、</span><span style="font-size: unset; color: unset; font-family: unset;">修改部署描述符  web.xml文件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;jsp-config&gt;</div><div>     &lt;taglib&gt;</div><div>          &lt;taglib-uri&gt;/demo&lt;/taglib-uri&gt;//对应JSP文件</div><div>          &lt;taglib-location&gt;/WEB-INF/tag/tag.tld&lt;/taglib-location&gt;//以webcontent为基础目录</div><div>     &lt;/taglib&gt;</div><div>&lt;/jsp-config&gt;</div></div><div><span style="font-size: unset; color: unset; font-family: unset;">4、编写JSP文件 .JSP文件</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;%@ taglib prefix=&quot;str&quot; uri=&quot;/demo&quot; %&gt;</div><div>${str:length(&quot;abc&quot;) }</div></div><div><span style="font-size: unset;"><br/></span></div><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 24pt; color: rgb(65, 173, 28); font-weight: bold;">JSP标准标签库</span></div><div><span style="font-size: unset; color: unset; font-family: unset;">1、JSTL是一个实现WEB应用程序中常见的通用功能的定制标记集。功能包括迭代和条件判断、数据管理格式化、XML操作以及数据库访问。</span></div><div><span style="font-size: unset; color: unset; font-family: unset;">2、JSTL主要包括的子标签库有：</span>核心标签、XML标签、格式化标签(I18N)、SQL标签、函数标签库</div><div>3、jstl.jar 提供了标签开发接口类   standard.jar提供了标签库的实现类</div><div>4、JSP中需要通过taglib伪指令导入JSTL标签库</div><div>语法为： &lt;%@ taglib prefix=&quot; c &quot;  uri=&quot; <a href="http://java.sun.com/jstl/core">http://java.sun.com/jsp/jstl/core</a> &quot; %&gt;      &lt;c : XXX&gt;来使用</div><div>5、</div><div><table style="border-collapse: collapse; min-width: 100%;"><colgroup><col style="width: 130px;"></col><col style="width: 130px;"></col><col style="width: 272px;"></col><col style="width: 186px;"></col></colgroup><tbody><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div>JSTL</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div>前置名</div></td><td style="width: 272px; padding: 8px; border: 1px solid;"><div>uri</div></td><td style="width: 186px; padding: 8px; border: 1px solid;">示例</td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div>核心标签库</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div>c</div></td><td style="width: 272px; padding: 8px; border: 1px solid;"><div>http://java.sun.com/jsp/jstl/core</div></td><td style="width: 186px; padding: 8px; border: 1px solid;"><div>&lt;c: out&gt;</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div>格式化标签库</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div>fmt</div></td><td style="width: 272px; padding: 8px; border: 1px solid;"><div>http://java.sun.com/jsp/jstl/fmt</div></td><td style="width: 186px; padding: 8px; border: 1px solid;"><div>&lt;fmt: formatDate&gt;</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div>SQL标签库</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div>sql</div></td><td style="width: 272px; padding: 8px; border: 1px solid;"><div>http://java.sun.com/jsp/jstl/sql</div></td><td style="width: 186px; padding: 8px; border: 1px solid;"><div>&lt;sql : query&gt;</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div>XML标签库</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div>xml</div></td><td style="width: 272px; padding: 8px; border: 1px solid;"><div><a href="http://java.sun.com/jsp/jstl/sql">http://java.sun.com/jsp/jstl/</a>xml</div></td><td style="width: 186px; padding: 8px; border: 1px solid;"><div>&lt;x : foreach&gt;</div></td></tr><tr><td style="width: 130px; padding: 8px; border: 1px solid;"><div>函数标签库</div></td><td style="width: 130px; padding: 8px; border: 1px solid;"><div>fn</div></td><td style="width: 272px; padding: 8px; border: 1px solid;"><div><a href="http://java.sun.com/jsp/jstl/sql">http://java.sun.com/jsp/jstl/f</a>n</div></td><td style="width: 186px; padding: 8px; border: 1px solid;"><div>${fn: split() }</div></td></tr></tbody></table><div>6、</div></div><div>核心标签库</div><ul><li><div> 用e接收异常内容</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;c: catch var=&quot;e&quot;&gt;   也许会抛出异常的代码  &lt;/c: catch&gt;</div></div><ul><li><div>打印输出内容到页面   default属性表示默认输出内容 </div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;c: out  value=&quot;${count }&quot;&gt;&lt;/c:out&gt;</div></div><ul><li><div>声明变量  设置变量值</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;c:set var=&quot;num&quot; value=&quot;${4*4}&quot;/&gt;  </div></div><ul><li><div> 设置属性值</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;c:set target=&quot;${user }&quot; property=&quot;userName&quot;  value=&quot;zhangzihua&quot;&gt;&lt;/c:set&gt;</div></div><ul><li><div>从指定作用域 内删除变量 </div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;c:remove var=&quot;num&quot; scope=&quot;session&quot;&gt;</div></div><ul><li><div>综合应用</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>//创建对象的两种方法</div><div>&lt;% </div><div>User user = new User(); </div><div><span>pageContext.setAttribute(&quot;user&quot;,user);    </span><br/></div><div>%&gt;</div><div>&lt;jsp:useBean id=&quot;user&quot; class=&quot;net.onest.zzh.User&quot; scope=&quot;page&quot;&gt;&lt;/jsp:useBean&gt;</div><div>//设置属性的两种方法</div><div>&lt;c:set target=&quot;${user}&quot; property=&quot;userName&quot; value=&quot;zhangzihua&quot;&gt;&lt;/c:set&gt;</div><div>&lt;jsp:setProperty name=&quot;user&quot; property=&quot;userName&quot; value=&quot;zhangzihua&quot;&gt;&lt;/jsp:setProperty&gt;</div><div>//输出属性的两种方法</div><div>&lt;jsp:getProperty name=&quot;user&quot; property=&quot;userName&quot;&gt;&lt;/jsp:getProperty&gt;</div><div>&lt;c:out value=&quot;${user.userName}&quot;&gt;</div></div><ul><li><div>c : if 没有else语句</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;c:if test=&quot;${user.sex=='0' }&quot;&gt;男&lt;/c:if&gt;</div></div><ul><li><div><span style="font-size: 14pt;">&lt;c: choose&gt;语句与&lt;c:when&gt;  &lt;c: otherwise&gt;并用</span></div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;c:choose&gt;</div><div><span>    &lt;c:when test=&quot;${true }&quot;&gt;1&lt;c:when&gt;</span><br/></div><div><span><span>    &lt;c:otherwise&gt;2&lt;/c:otherwise&gt;</span><br/></span></div><div>&lt;/c:choose&gt;</div></div><ul><li><div>&lt;c:forEach&gt;的两个用法</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;c:forEach items=&quot;${users }&quot; begin=&quot;0&quot; end=&quot;2&quot; var=&quot;user&quot;  varStatus=&quot;vs&quot;&gt;//begin,end都是索引，前后都包括</div><div>    <font color="#E500FF"><b>${vs.index }索引</b></font></div><div><font color="#E500FF"><b><span>    </span>${vs.count }当前第几个</b></font></div><div><font color="#E500FF"><b><span>    </span>${vs.first }是否为第一个</b></font></div><div><font color="#E500FF"><b><span>    </span>${vs.last }是否为最后一个</b></font></div><div><font color="#E500FF"><b><span>    </span>//</b></font><font color="#BA00FF"><b>varStatus属性，用来存放现在指到的成员的信息。</b></font></div><div>     ${user.userName }----${user.password }---</div><div>     &lt;c:if test=&quot;${user.sex=='0' }&quot;&gt;男&lt;/c:if&gt;</div><div>     &lt;c:if test=&quot;${user.sex=='1' }&quot;&gt;女&lt;/c:if&gt;</div><div>&lt;/c:forEach&gt;</div></div><div><span style="font-size: 14pt;"><br/></span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;c:forEach begin=&quot;1&quot; end=&quot;10&quot; step=&quot;3&quot; var=&quot;i&quot;&gt;//begin表示从第几个开始，step表示隔几个，end为第几个</div><div>     &lt;c:out value=&quot;${i }&quot;&gt;&lt;/c:out&gt;</div><div>&lt;/c:forEach&gt;</div></div><div><br/></div><ul><li><div>&lt;c:url&gt;用来产生一个URL，“/”表示上下文路径</div></li><li><div>&lt;c:import&gt;可以把其他静态或动态文件包含至本身JSP页面。与JSP动作&lt;jsp:include&gt;的不同在于&lt;c:import&gt;可以包含位于Web程序之外的资源 </div></li><li><div>&lt;c:redirect&gt;用于把客户请求重定向到另一个资源</div></li></ul><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 14pt;">格式标签库</span></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;!-- 数字的格式化 --&gt;</div><div>&lt;fmt:formatNumber maxFractionDigits=&quot;2&quot;  maxIntegerDigits=&quot;2&quot; type=&quot;currency&quot;  currencySymbol=&quot;$&quot;&gt;1231313.333531&lt;/fmt:formatNumber&gt;</div><div>&lt;!-- 日期的格式化 --&gt;</div><div>&lt;% Date date = new Date();</div><div>pageContext.setAttribute(&quot;date&quot;, date);</div><div>%&gt;</div><div>${date }</div><div>&lt;fmt:formatDate value=&quot;${date }&quot; pattern=&quot;yyyy-MM-dd&quot;/&gt;</div></div><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 14pt;">函数标签库：</span><span style="color: unset; font-family: unset; font-size: unset;">JSTL包含一系列标准函数，大部分是通用的字符串处理函数。</span></div><div><img src="JSP_files/Image [1].png" type="image/png" data-filename="Image.png"/></div><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 24pt; color: rgb(65, 173, 28); font-weight: bold;">自定义标签</span></div><div><span style="font-size: 14pt;">1、自定义标签的原因：实现代码复用</span></div><div><span style="font-size: 14pt;">2、空标签体的定制标签，带属性的定制标签体，</span>带标签体的简单标签</div><div><span style="font-size: 14pt;">3、简单标签：</span>提供了SimpleTag接口和SimpleTagSupport实现类</div><ul><li><div>编写简单标签实现类</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>public class EmptyTagBody extends SimpleTagSupport{</div><div>     @Override</div><div>     public void doTag() throws JspException, IOException  {</div><div>          // TODO Auto-generated method stub</div><div>          super.doTag();</div><div>          <font color="#FF0000"><b>getJspContext().getOut().print(&quot;simple tag!&quot;);</b></font></div><div>     }</div><div>}</div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>public class AttributeTag extends SimpleTagSupport{</div><div>     <b><font color="#E500FF">private int count;属性+set方法</font></b></div><div>     @Override</div><div>     public void doTag() throws JspException, IOException  {</div><div>          // TODO Auto-generated method stub</div><div>          getJspContext().getOut().print(&quot;hello attribute&quot;  + count);</div><div>     }</div><div>    <font color="#7600D8"> <b>public void setCount(int count) {</b></font></div><div><b><font color="#7600D8">          this.count = count;</font></b></div><div><b><font color="#7600D8">     }</font></b></div><div>}</div></div><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>public class BodyTag extends SimpleTagSupport{</div><div>     @Override</div><div>     public void doTag() throws JspException, IOException  {</div><div>          //getJspContext().getOut().print(&quot;zhangzihua&quot;);</div><div>          <b><font color="#FF4635">getJspBody().invoke(null);</font></b></div><div>     }</div><div>}</div></div><ul><li><div>编写TLD文件</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;taglib&gt;</div><div>     &lt;tlib-version&gt;1.0&lt;/tlib-version&gt;</div><div>     &lt;jsp-version&gt;2.0&lt;/jsp-version&gt;</div><div>空标签体</div><div>     &lt;tag&gt;</div><div>          &lt;name&gt;emptyTag&lt;/name&gt;标签名字</div><div>          &lt;tag-class&gt;net.onest.zzh.EmptyTagBody.EmptyTagBody&lt;/tag-class&gt;标签的全限定名</div><div>         <font color="#E500FF"><b> &lt;body-content&gt;empty&lt;/body-content&gt;没有标签体</b></font></div><div>          &lt;description&gt;empty tag test&lt;/description&gt;可选</div><div>     &lt;/tag&gt;</div><div>带属性的标签体</div><div>     &lt;tag&gt;</div><div>          &lt;name&gt;attribute&lt;/name&gt;</div><div>          &lt;tag-class&gt;net.onest.zzh.EmptyTagBody.AttributeTag&lt;/tag-class&gt;</div><div>          <font color="#BA00FF"><b>&lt;body-content&gt;empty&lt;/body-content&gt;</b></font></div><div>          &lt;attribute&gt;</div><div>              <b><font color="#3665EE">&lt;name&gt;count&lt;/name&gt;属性名</font></b></div><div><b><font color="#3665EE">              &lt;required&gt;true&lt;/required&gt;是否需要</font></b></div><div><b><font color="#3665EE">              &lt;type&gt;int&lt;/type&gt;返回值</font></b></div><div>          &lt;/attribute&gt;</div><div>          &lt;description&gt;</div><div>              Send a math expression to the JSP</div><div>          &lt;/description&gt;</div><div>     &lt;/tag&gt;</div><div>带标签体的</div><div>     &lt;tag&gt;</div><div>          &lt;name&gt;body&lt;/name&gt;</div><div>          &lt;tag-class&gt;net.onest.zzh.EmptyTagBody.BodyTag&lt;/tag-class&gt;</div><div>          <font style="color: rgb(229, 0, 255);"><b>&lt;body-content&gt;scriptless&lt;/body-content&gt;标签体</b></font></div><div>     &lt;/tag&gt;</div><div>&lt;/taglib&gt;</div></div><div><br/></div><div><img src="JSP_files\en_todo.png"/>empt：表示没有标签体<br/></div><div><br/></div><div><img src="JSP_files\en_todo [1].png"/>JSP：表示标签体可以包含JSP代码<br/></div><div><br/></div><div><img src="JSP_files\en_todo [2].png"/>scriptless：表示标签体可以包含EL表达式和JSP动作元素，但不能包含JSP的脚本元素<br/></div><div><br/></div><div><img src="JSP_files\en_todo [3].png"/>tagdependent：表示标签体交由标签本身去解析处理。即在标签体中所写的任何代码都会原封不动地传给标签处理器<br/></div><div><br/></div><ul><li><div>在web.xml中配置TLD文件</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;jsp-config&gt;</div><div>     &lt;taglib&gt;</div><div>          &lt;taglib-uri&gt;/taglib&lt;/taglib-uri&gt;与JSP页面对应</div><div>          &lt;taglib-location&gt;/WEB-INF/tag/tag.tld&lt;/taglib-location&gt;tld文件的路径</div><div>     &lt;/taglib&gt;</div><div>&lt;/jsp-config&gt;</div></div><ul><li><div>在JSP页面中使用taglib</div></li></ul><div style="box-sizing: border-box; padding: 8px; font-family: Monaco, Menlo, Consolas, &quot;Courier New&quot;, monospace; font-size: 12px; color: rgb(51, 51, 51); border-radius: 4px; background-color: rgb(251, 250, 248); border: 1px solid rgba(0, 0, 0, 0.15);-en-codeblock:true;"><div>&lt;%@ taglib prefix=&quot;t&quot; uri=&quot;/taglib&quot;%&gt;</div><div><font color="#E500FF"><b>&lt;t:emptyTag/&gt;</b></font></div><div><font color="#E500FF"><b>&lt;t:attribute count=&quot;5&quot;/&gt;</b></font></div><div><font color="#E500FF"><b>&lt;t:body&gt;爱好&lt;/t:body&gt;</b></font></div></div><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 14pt;"><br/></span></div><div><span style="font-size: 14pt;">4、IterationTag</span></div><div><br/></div><div><img src="JSP_files/221328022153168.jpg" type="image/jpeg" data-filename="221328022153168.jpg"/></div></div><div><br/></div><div><br/></div><div>5、BodyTagSupport和TagSupport的区别</div><div>TagSupport与BodyTagSupport的区别主要是标签处理类是否需要与标签体交互，如果不需要交互的就用TagSupport，否则就用BodyTagSupport。</div><div>交互就是标签处理类是否要读取标签体的内容和改变标签体返回的内容。</div><div>用TagSupport实现的标签，都可以用BodyTagSupport来实现，因为BodyTagSupport继承了TagSupport</div></span>
</div></body></html> 